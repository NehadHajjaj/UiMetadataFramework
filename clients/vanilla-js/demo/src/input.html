<div>
    <label for="{{field.metadata.id}}">{{field.metadata.label}}</label>
    <div ref:container class="inline"></div>
</div>

<script>
    import TextInput from "./inputs/text";
    import NumberInput from "./inputs/number";
    import DateTimeInput from "./inputs/datetime";
    import * as umf from "../../src/core/index";

    var all = {
        text: TextInput,
        number: NumberInput,
        datetime: DateTimeInput
    };

    export default {
        oncreate() {
            let field = this.get("field");
            let tabindex = this.get("tabindex");

            var input = all[field.metadata.type] || TextInput;

            var i = new input({
                target: this.refs.container,
                data: {
                    field: field,
                    tabindex: tabindex
                }
            });

            this.set({ input: i });

            field.manager = {
                serialize() {
                    return i.serialize != null ? i.serialize() : field.data.toString();
                }
            };
        }
    }

</script>

<style>
    .inline {
        display: inline-block
    }
</style>