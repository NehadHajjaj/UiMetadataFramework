<h2>{{metadata.label}}</h2>

<form on:submit="submit(app, form, event)">
    {{#each metadata.inputFields as inputField}}
    <div>
        <label>{{inputField.label}}
        <input bind:value="form.inputFieldValues[inputField.id].data" 
            required="{{form.inputFieldValues[inputField.id].metadata.required}}">
    </label>
    </div>
    {{/each}}

    <button type="submit">submit</button>
</form>

<div>
</div>

<script>
    export default {
        methods: {
            submit: (app, formInstance, event) => {
                event.preventDefault();
                app.postForm(formInstance)
                    .then(response => {
                        console.log(formInstance.parseResponse(response));
                    });
            }
        }
    }
</script>