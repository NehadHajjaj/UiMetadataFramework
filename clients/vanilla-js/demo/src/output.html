{{#if showLabel === true && !alwaysHideLabel }}
<div>
    <strong>{{field.metadata.label}}:</strong>
    <div ref:container class="{{class}}"></div>
</div>
{{else}}
<div ref:container class="{{class}}"></div>
{{/if}}

<script>
    import TextOutput from "./outputs/Text";
    import NumberOutput from "./outputs/Number";
    import DateTimeOutput from "./outputs/Datetime";
    import TableOutput from "./outputs/Table";
    import FormLink from "./outputs/FormLink";
    import Tabstrip from "./outputs/Tabstrip";

    var all = {
        text: TextOutput,
        number: NumberOutput,
        datetime: DateTimeOutput,
        table: TableOutput,
        formlink: FormLink,
        tabstrip: Tabstrip
    };

    all.tabstrip.constants = { 
        alwaysHideLabel: true,
        block: true
    };

    all.table.constants = {
        block: true
    };

    export default {
        oncreate() {
            var field = this.get("field");
            var app = this.get("app");
           
            var output = field != null 
                ? all[field.metadata.type] || TextOutput
                : TextOutput;
            
            // Never show label if `alwaysHideLabel` is set to true.
            var outputDisplayConfig = output.constants || {};
            this.set({
                alwaysHideLabel: outputDisplayConfig.alwaysHideLabel
            });
            
            new output({
                target: this.refs.container,
                data: {
                    field: field,
                    app: app
                }
            });

            // Set correct css class based on the field type.
            if (outputDisplayConfig.block) {
                this.set({ class: "block" });
            }
            else {
                this.set({ class: "inline" });
            }
        },
        data () {
            return {
                showLabel: true
            };
        }
    }
</script>

<style>
    .inline {
        display: inline-block
    }
</style>