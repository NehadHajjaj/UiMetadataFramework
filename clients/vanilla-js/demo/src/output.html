<div>
    <strong>{{field.metadata.label}}:</strong>
    <div ref:container class="{{class}}"></div>
</div>

<script>
    import TextOutput from "./outputs/text";
    import NumberOutput from "./outputs/number";
    import DateTimeOutput from "./outputs/datetime";
    import TableOutput from "./outputs/table";

    var all = {
        text: TextOutput,
        number: NumberOutput,
        datetime: DateTimeOutput,
        table: TableOutput
    };

    export default {
        oncreate() {
            var field = this.get("field");

            var input = field != null 
                ? all[field.metadata.type] || TextOutput
                : TextOutput;

            new input({
                target: this.refs.container,
                data: {
                    field: field
                }
            });

            // Set correct css class based on the field type.
            if (["table"].indexOf(field.metadata.type) !== -1) {
                this.set({ class: "block" });
            }
            else {
                this.set({ class: "inline" });
            }
        }
    }

</script>

<style>
    .inline {
        display: inline-block
    }
</style>